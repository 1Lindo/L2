# Состояние

Состояние — это поведенческий паттерн проектирования, который позволяет объектам менять поведение в зависимости от
своего состояния. Извне создаётся впечатление, что изменился класс объекта.

Применимость:

Когда есть объект, поведение которого кардинально меняется в зависимости от внутреннего состояния, причём типов
состояний много, и их код часто меняется.
Паттерн предлагает выделить в собственные классы все поля и методы, связанные с определёнными состояниями.
Первоначальный объект будет постоянно ссылаться на один из объектов-состояний, делегируя ему часть своей работы. Для
изменения состояния в контекст достаточно будет подставить другой объект-состояние.

Когда код класса содержит множество больших, похожих друг на друга, условных операторов, которые выбирают поведения в
зависимости от текущих значений полей класса.
Паттерн предлагает переместить каждую ветку такого условного оператора в собственный класс. Тут же можно поселить и все
поля, связанные с данным состоянием.

Когда используем табличную машину состояний, построенную на условных операторах, но вынуждены мириться с
дублированием кода для похожих состояний и переходов.
Паттерн Состояние позволяет реализовать иерархическую машину состояний, базирующуюся на наследовании. Вы можете
отнаследовать похожие состояния от одного родительского класса и вынести туда весь дублирующий код.

Плюсы + :

1) Избавляет от множества больших условных операторов машины состояний.
2) Концентрирует в одном месте код, связанный с определённым состоянием.
3) Упрощает код контекста.

Минусы - :

1) Может неоправданно усложнить код, если состояний мало и они редко меняются.

Пример из практики:

1) Автоматы и управление процессами: Реализация автомата для управления заказами в системе электронной коммерции.
   Состояния могут включать "новый заказ", "обработка", "отгружен", "доставлен".
2) Игровые движки: Реализация поведения персонажей в игре, которые могут находиться в различных состояниях, таких как "
   бег", "прыжок", "атака", "отдых".
3) Управление интерфейсом пользователя: Разработка системы управления для приложения с различными состояниями, такими
   как "ввод текста", "выбор из списка", "редактирование".
4) Транспортные системы: Управление светофорами на перекрестке. Состояния могут включать "зеленый", "желтый", "красный".
5) Системы управления энергопотребление: Реализация системы управления режимами энергосбережения на устройствах.
   Состояния могут включать "активный режим", "режим ожидания", "спящий режим".
6) Обработка документов: Реализация системы обработки документов, где каждый документ может проходить через состояния,
   такие как "черновик", "на рассмотрении", "одобрено", "отклонено".